<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      href="./styles/main.css"
      rel="stylesheet"
    />
    <script src="./phones.js "></script>
    
    <title>Cherry: Midterm 10</title>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary vertical-center">
        <div class="container-fluid bg-invert">
          <a class="navbar-brand" href="index.html">
            <img src="./images/icons/cherry-logo.svg" class="d-inline-block align-text-top" />
            <strong style="font-size: x-large;">Cherry</strong>
          </a>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="phones.html">SMARTPHONES</a></li>
              <li class="nav-item"><a class="nav-link" href="#">WATCHES</a></li>
              <li class="nav-item"><a class="nav-link" href="#">TABLETS</a></li>
              <li class="nav-item"><a class="nav-link" href="#">LAPTOPS</a></li>
              <li class="nav-item"><a class="nav-link" href="#">VRs</a></li>
              <li class="nav-item"><a class="nav-link" href="about.html">ABOUT US</a></li>
            </ul>
            <ul class="collapse navbar-collapse justify-content-end list-unstyled" style="margin: 0">
              <li class="ms-3"><a class="text-body-secondary" href="#"><img src="./images/icons/person.svg" width="30" height="30"/></a></li>
              <li class="ms-3"><a class="text-body-secondary" href="#"><img src="./images/icons/bag.svg" width="25" height="25"/></a></li>
            </ul>
          </div>
        </div>
    </nav>

    <button onclick="getMethod()">Show All Offers</button>
    <h1>Phones:</h1>
    <pre id="showData"></pre>
    <div id="showPhones"> </div>

    <!-- <div class="d-md-flex flex-md-equal w-100 my-md-3 pl-md-3">
        <div class="bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
          <div class="my-3 py-3">
            <h2 id="iphone11" class="display-5">iPhone 11</h2>
            <p id="phoneDesc1"></p>
            <h3 id="phonePrice1"></h3>
            <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                  <button type="button" class="btn btn-sm btn-outline-secondary">Reviews</button>
                </div>
            </div>
          </div>
          <div id="phoneImg1"></div>
        </div>
        <div class="bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
          <div class="my-3 p-3">
            <h2 id="iphone12" class="display-5">iPhone 12</h2>
            <p id="phoneDesc2"></p>
            <h3 id="phonePrice2"></h3>
            <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                  <button type="button" class="btn btn-sm btn-outline-secondary">Reviews</button>
                </div>
            </div>
          </div>
          <div id="phoneImg2"></div>
        </div>
      </div>
  
      <div class="d-md-flex flex-md-equal w-100 my-md-3 pl-md-3">
        <div class="bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
          <div class="my-3 p-3">
            <h2 id="a54" class="display-5">Samsung A54</h2>
            <p id="phoneDesc3"></p>
            <h3 id="phonePrice3"></h3>
            <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                  <button type="button" class="btn btn-sm btn-outline-secondary">Reviews</button>
                </div>
            </div>
          </div>
          <div id="phoneImg3"></div>
        </div>
        <div class="bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
          <div class="my-3 py-3">
            <h2 id="samsungs21" class="display-5">Samsung S21</h2>
            <p id="phoneDesc4"></p>
            <h3 id="phonePrice4"></h3>
            <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                  <button type="button" class="btn btn-sm btn-outline-secondary">Reviews</button>
                </div>
            </div>
          </div>
          <div id="phoneImg4"></div>
        </div>
      </div> -->

    <!-- Footer -->
    <div class="container">
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        <div class="col-md-4 d-flex align-items-center">
            <a href="/" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1">
            <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"/></svg>
            </a>
            <span class="mb-3 mb-md-0 text-body-secondary">&copy; Cherry LLC (2023)</span>
        </div>
    
        <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
            <li class="ms-3"><a class="text-body-secondary" href="#"><img src="./images/icons/facebook.svg" width="24" height="24"/></a></li>
            <li class="ms-3"><a class="text-body-secondary" href="#"><img src="./images/icons/twitter-x.svg" width="24" height="24"/></a></li>
            <li class="ms-3"><a class="text-body-secondary" href="#"><img src="./images/icons/instagram.svg" width="24" height="24"/></a></li>
        </ul>
        </footer>
    </div>

    <script>
    function getMethod() {
      fetch('http://localhost:8081/listPhones')
      .then(response => response.json())
      .then(data => {
          console.log(data);
          var container = document.getElementById("showData");
          // container.innerHTML = JSON.stringify(data,undefined,2);
          loadPhones(data);
      })
    };
    function loadPhones(myPhones) {
        var mainContainer = document.getElementById("showPhones");
        for (var i = 0; i < myPhones.length; i++) {
            let productId = myPhones[i].productId;
            let brand = myPhones[i].brand;
            let price = myPhones[i].price;
            let title = myPhones[i].title;
            let text = myPhones[i].text;
            let image = myPhones[i].image;
            let div = document.createElement("div");
            div.innerHTML = `
            <div class="bg-light mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
              <div class="my-3 py-3">
              <h2 id="iphone11" class="display-5">${brand} ${title}</h2>
              <p id="phoneDesc1">${text}</p>
              <h3 id="phonePrice1">${price}</h3>
              <img src=${image} width="200"> <br> <br>
              <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary">Reviews</button>
                  </div>
              </div>
              </div>
            `;
            mainContainer.appendChild(div);
            console.log(div);
        }
    }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    >
    </script>

</body>
</html>